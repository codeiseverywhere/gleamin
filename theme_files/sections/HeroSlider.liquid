<section id='HeroSlider' class='HeroSlider'>
  <article class="HeroSlider__content">

    <div class="HeroSlider__slider">
      {% for block in section.blocks %}
        <div id="HeroSlider-slide-{{ block.settings.title }}" class="HeroSlider__slide">
          <div class="HeroSlider__slide-inner">

            <!-- Nav -->
            {% if section.blocks.size > 1 %}
              <div class="HeroSlider__nav">
                <div class="HeroSlider__nav-inner">
                  <div class="HeroSlider__nav-items">
                    {% for block in section.blocks %}
                        <div class="HeroSlider__nav-item"></div>
                    {% endfor %}
                  </div>
                </div>
              </div>
            {% endif %}
          
            <!-- image -->
            <div class="HeroSlider__image-container">
              <img 
                src="{{ block.settings.image | img_url: 'master' }}" 
                alt="{{ block.settings.alt }}" class="HeroSlider__image HeroSlider__image--desktop">
              <img 
                src="{{ block.settings.mobile-image | img_url: 'master' }}" 
                alt="{{ block.settings.alt }}" class="HeroSlider__image HeroSlider__image--mobile">
            </div>

            <!-- text -->
            <div class="HeroSlider__text-container">
              <div class="HeroSlider__text-box">
                  <div class="HeroSlider__title-box">
                    <h1 class="HeroSlider__title">{{ block.settings.title }}</h1>
                  </div>
                  <div class="HeroSlider__text-box">
                    <p class="HeroSlider__text">{{ block.settings.text }}</p>
                  </div>
                  <div class="HeroSlider__cta-box">
                    <a href="{{ block.settings.cta-link }}" class="HeroSlider__cta Site__button-main">{{ block.settings.cta-text }}</a>
                  </div>
              </div>
            </div>
          
          </div>
        </div>
      {% endfor %}
    </div>

  </article>
</section>

{% schema %}
  {
    "name": "Hero Slider",
    "settings": [
      {
        "type": "checkbox",
        "id": "autoplay",
        "label": "Enable Autoplay",
        "default": true
      }
    ],
    "blocks": [
      {
        "type": "Side",
        "name": "Slide",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Slide Image"
          },
          {
            "type": "image_picker",
            "id": "mobile-image",
            "label": "Slide Image"
          },
          {
            "type": "text",
            "id": "alt",
            "label": "Alt tag text for image",
            "default": "image",
            "info": "this is optional but good for SEO"
          },
          {
            "type": "text",
            "id": "heading",
            "label": "Slide Heading Text",
            "default": "Achieve an instant bare-faced glow!",
            "info": "** for optimal results on mobile ** ensure the title is 2 rows in length. "
          },
          {
            "type": "text",
            "id": "text",
            "label": "Slide Text",
            "default": "A transformative blend of natural ingredients to even skin tone & fade dark spots."
          },
          {
            "type": "text",
            "id": "cta-text",
            "label": "Slide CTA Text",
            "default": "Shop Mask"
          },
          {
            "type": "url",
            "id": "cta-link",
            "label": "Slide CTA Link"
          }
        ]
      }
    ],
    "presets": [
      {
        "category": "Homepage",
        "name": "Hero Slider"
      }
    ]
  }
{% endschema %}

<script>
(function(){
  window.addEventListener('click', () => {
    $(".HeroSlider__slider").slick({
      arrows: true,
      dots: false,
      draggable: true,
      swipe: true,
      slidesToShow: 3,
      slidesToScroll: 1,
      adaptiveHeight: true,
      infinite: true,
      autoplay: true,
      autoplaySpeed: 5000,
      asNavFor: ".HeroSlider__nav-items",
      responsive: [
        {
          breakpoint: 768,
          settings: {
            arrows: true
          },
        },
      ],
    });
    $(".HeroSlider__nav-items").slick({
      slidesToShow: "auto",
      asNavFor: ".HeroSlider__slider",
      dots: false,
      arrows: false,
      centerMode: true,
      focusOnSelect: true,
      useTransform: false,
    });
  })
})()
</script>